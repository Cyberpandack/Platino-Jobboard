<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mon profil • Job Board</title>
  <style>
    :root {
      --bg: #0f1220;
      --panel: #14182a;
      --panel-2: #1a1f36;
      --text: #eef1f6;
      --muted: #a6b0cf;
      --primary: #6cc3ff;
      --primary-2: #2bb0ed;
      --accent: #8b6cff;
      --danger: #ff6b6b;
      --success: #37d67a;
      --border: #27304d;
      --chip: #202745;
      --focus: 0 0 0 3px rgba(43,176,237,.35);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: linear-gradient(180deg, #0f1220 0%, #0f1426 60%, #0d101c 100%);
      color: var(--text);
      font: 15px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
    }
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .container { max-width: 1100px; margin: 28px auto; padding: 0 16px; }

    .topbar { display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:16px; }
    .brand { display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; }
    .brand .dot { width:10px; height:10px; border-radius:50%; background: var(--primary); box-shadow: 0 0 16px rgba(108,195,255,.8); }

    .card { background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%); border:1px solid var(--border); border-radius:16px; padding:18px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    .card + .card { margin-top:16px; }

    .profile { display:grid; grid-template-columns: 88px 1fr auto; gap:16px; align-items:center; }
    .avatar { width:88px; height:88px; border-radius:50%; background:#101425; border:2px solid var(--border); display:grid; place-items:center; color:#7b89b6; font-weight:700; }
    .profile h1 { margin:0 0 4px; font-size:22px; }
    .muted { color: var(--muted); }
    .actions { display:flex; gap:8px; }
    .btn { border:1px solid var(--border); background:#151b30; color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; transition:transform .02s ease, background .2s ease; }
    .btn:hover { background:#18203a; }
    .btn:active { transform: translateY(1px); }
    .btn.primary { background: linear-gradient(180deg, var(--primary) 0%, var(--primary-2) 100%); color:#05121d; border:none; font-weight:700; }
    .btn.ghost { background: transparent; }

    .chip { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background: var(--chip); border:1px solid var(--border); color:#d3dbff; font-size:13px; }

    .tabs { margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; }
    .tab { appearance:none; border:1px solid var(--border); background:#13182b; color:var(--muted); padding:8px 12px; border-radius:10px; cursor:pointer; }
    .tab[aria-selected="true"] { background:#1b2140; color: var(--text); border-color:#33406b; }

    .grid { display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
    @media (max-width: 920px) { .grid { grid-template-columns: 1fr; } .profile { grid-template-columns: 72px 1fr; } }

    .field { display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
    .label { font-size:13px; color:#c1c9eb; }
    .input, .select, .textarea { width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0f1530; color:var(--text); }
    .textarea { min-height:96px; resize:vertical; }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    @media (max-width:680px) { .row { grid-template-columns: 1fr; } }
    .help { font-size:12px; color:#97a3c7; }

    table { width:100%; border-collapse: collapse; }
    th, td { text-align:left; padding:10px 8px; border-bottom:1px solid #20284b; }
    th { color:#c9d3ff; font-weight:600; }
    tr:hover td { background:#111735; }

    .skills { display:flex; flex-wrap:wrap; gap:8px; }
    .skills .chip button { all:unset; cursor:pointer; opacity:.7; }

    .toast { position: fixed; right: 16px; bottom: 16px; background:#0f1a34; border:1px solid var(--border); color:var(--text); padding:12px 14px; border-radius:12px; box-shadow: 0 10px 30px rgba(0,0,0,.3); transform: translateY(12px); opacity:0; pointer-events:none; transition: .25s ease; }
    .toast.show { transform: translateY(0); opacity:1; pointer-events:auto; }

    .switch { position: relative; width: 44px; height: 24px; display:inline-block; }
    .switch input { display:none; }
    .slider { position:absolute; inset:0; background:#243056; border-radius:999px; border:1px solid var(--border); transition:.2s; }
    .slider:before { content:""; position:absolute; width:18px; height:18px; top:50%; left:3px; transform:translateY(-50%); background:#fff; border-radius:50%; transition:.2s; }
    .switch input:checked + .slider { background:#2bb0ed; }
    .switch input:checked + .slider:before { left: calc(100% - 21px); }

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="container">
    <header class="topbar" role="banner">
      <div class="brand" aria-label="Job Board">
        <span class="dot" aria-hidden="true"></span>
        <span>JOB BOARD</span>
      </div>
      <nav aria-label="breadcrumb" class="muted">Mon compte / <strong>Mon profil</strong></nav>
    </header>

    <section class="card" aria-labelledby="profile-title">
      <div class="profile">
        <div class="avatar" aria-hidden="true">OP</div>
        <div>
          <h1 id="profile-title">Jean-Baptiste Pellegrini</h1>
          <div class="muted">Étudiant · Marseille · Disponible pour alternance</div>
          <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
            <span class="chip">Développement Web</span>
            <span class="chip">CyberSécurité</span>
            <span class="chip">Gestion de projet</span>
          </div>
        </div>
        <div class="actions">
          <button class="btn ghost" id="btn-preview">Aperçu public</button>
          <button class="btn primary" id="btn-edit">Modifier</button>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Sections du profil">
        <button class="tab" role="tab" aria-selected="true" data-tab="overview">Aperçu</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="applications">Candidatures</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="saved">Sauvegardées</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="alerts">Alertes</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="settings">Paramètres</button>
      </div>
    </section>

    <section id="panel-overview" class="grid" role="tabpanel" aria-labelledby="tab-overview">
      <div class="card" data-endpoint="/api/users/123" data-method="PATCH">
        <h2 style="margin:0 0 10px">Informations personnelles</h2>
        <p class="help">Ces informations seront utilisées pour pré-remplir vos candidatures.</p>
        <div class="row">
          <div class="field">
            <label class="label" for="first_name">Prénom</label>
            <input class="input" id="first_name" name="first_name" value="Jean-Baptiste" disabled>
          </div>
          <div class="field">
            <label class="label" for="last_name">Nom</label>
            <input class="input" id="last_name" name="last_name" value="Pellegrini" disabled>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <label class="label" for="email">Email</label>
            <input class="input" id="email" name="email" type="email" value="Jean-Baptiste@example.com" disabled>
          </div>
          <div class="field">
            <label class="label" for="phone">Téléphone</label>
            <input class="input" id="phone" name="phone" value="06 26 60 30 83" disabled>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <label class="label" for="city">Ville</label>
            <input class="input" id="city" name="city" value="Marseille" disabled>
          </div>
          <div class="field">
            <label class="label" for="availability">Disponibilité</label>
            <select class="select" id="availability" name="availability" disabled>
              <option>Immédiate</option>
              <option>Dans 1 mois</option>
              <option>Dans 3 mois</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label class="label" for="bio">Bio</label>
          <textarea class="textarea" id="bio" name="bio" disabled>Étudiant Epitech. Intérêt: Dev, Cloud, Cyber.</textarea>
        </div>
        <div style="display:flex; gap:8px; justify-content:flex-end;">
          <button class="btn" id="cancel-profile" hidden>Annuler</button>
          <button class="btn primary" id="save-profile" hidden>Enregistrer</button>
        </div>
      </div>

      <div class="card">
        <h2 style="margin:0 0 10px">Compétences & CV</h2>
        <div class="field">
          <label class="label">Compétences</label>
          <div class="skills" id="skills">
            <span class="chip">JavaScript<button aria-label="supprimer">×</button></span>
            <span class="chip">Python<button aria-label="supprimer">×</button></span>
            <span class="chip">SQL<button aria-label="supprimer">×</button></span>
          </div>
          <div class="row" style="margin-top:8px;">
            <input class="input" id="new-skill" placeholder="Ajouter une compétence (Entrée)">
            <button class="btn" id="add-skill">Ajouter</button>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <label class="label" for="level">Niveau d'études</label>
            <select class="select" id="level">
              <option>Bac</option>
              <option>Bac+2</option>
              <option>Licence</option>
              <option selected>Master</option>
              <option>Doctorat</option>
            </select>
          </div>
          <div class="field">
            <label class="label" for="cv">CV (PDF)</label>
            <input class="input" type="file" id="cv" accept="application/pdf">
            <span class="help">Taille max 5 Mo</span>
          </div>
        </div>
      </div>
    </section>

    <section id="panel-applications" class="card" role="tabpanel" hidden>
      <h2 style="margin:0 0 10px">Mes candidatures</h2>
      <table aria-label="Candidatures">
        <thead>
          <tr>
            <th>Offre</th>
            <th>Entreprise/École</th>
            <th>Statut</th>
            <th>Envoyée le</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="applications-body">
          <tr>
            <td>Développeur Front-End (Alternance)</td>
            <td>Acme Tech</td>
            <td><span class="chip" style="background:#14381f; border-color:#1f5b33; color:#7ff2a2;">En attente</span></td>
            <td>02/10/2025</td>
            <td><button class="btn" data-action="view-app">Détail</button></td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="panel-saved" class="card" role="tabpanel" hidden>
      <h2 style="margin:0 0 10px">Offres sauvegardées</h2>
      <div id="saved-list">
        <div class="card" style="padding:14px; background:#0f1530;">
          <div style="display:flex; justify-content:space-between; gap:12px; align-items:center;">
            <div>
              <strong>Analyste SOC Junior</strong>
              <div class="muted">CyberGuard · Marseille · 35k-40k</div>
            </div>
            <div style="display:flex; gap:8px;">
              <button class="btn">Candidater</button>
              <button class="btn ghost">Retirer</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="panel-alerts" class="card" role="tabpanel" hidden>
      <h2 style="margin:0 0 10px">Alertes & recommandations</h2>
      <div class="row">
        <div class="field">
          <label class="label">Recevoir des alertes email</label>
          <label class="switch">
            <input type="checkbox" id="alerts-enabled" checked>
            <span class="slider" aria-hidden="true"></span>
            <span class="sr-only">Activer les alertes</span>
          </label>
        </div>
        <div class="field">
          <label class="label" for="alert-keywords">Mots-clés</label>
          <input class="input" id="alert-keywords" placeholder="ex: alternance, node.js, marseille" value="alternance, javascript, marseille">
        </div>
      </div>
      <div class="row">
        <div class="field">
          <label class="label" for="alert-frequency">Fréquence</label>
          <select class="select" id="alert-frequency">
            <option>Quotidienne</option>
            <option selected>Hebdomadaire</option>
          </select>
        </div>
        <div class="field">
          <label class="label" for="alert-type">Type d'opportunité</label>
          <select class="select" id="alert-type">
            <option>Emploi</option>
            <option>Stage</option>
            <option selected>Alternance</option>
            <option>Formation</option>
          </select>
        </div>
      </div>
      <div style="display:flex; gap:8px; justify-content:flex-end;">
        <button class="btn" id="save-alerts">Mettre à jour</button>
      </div>
    </section>

    <section id="panel-settings" class="grid" role="tabpanel" hidden>
      <div class="card">
        <h2 style="margin:0 0 10px">Confidentialité</h2>
        <div class="field">
          <label class="label">Visibilité du profil</label>
          <select class="select" id="visibility">
            <option>Public</option>
            <option selected>Masqué aux entreprises</option>
            <option>Privé</option>
          </select>
        </div>
        <div class="field">
          <label class="label">Autoriser la prise de contact</label>
          <label class="switch">
            <input type="checkbox" id="contactable" checked>
            <span class="slider"></span>
          </label>
        </div>
      </div>
      <div class="card" style="border-color:#3a2340;">
        <h2 style="margin:0 0 10px">Danger zone</h2>
        <p class="help">Supprimer votre compte efface définitivement vos données (candidatures, favoris...).</p>
        <button class="btn" style="background: linear-gradient(180deg,var(--danger),#e35151); border:none;" id="delete-account">Supprimer mon compte</button>
      </div>
    </section>

    <div id="toast" class="toast" role="status" aria-live="polite">Enregistré ✔</div>
  </div>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const panels = {
      overview: document.getElementById('panel-overview'),
      applications: document.getElementById('panel-applications'),
      saved: document.getElementById('panel-saved'),
      alerts: document.getElementById('panel-alerts'),
      settings: document.getElementById('panel-settings')
    };
    tabs.forEach(btn => btn.addEventListener('click', () => {
      tabs.forEach(b => b.setAttribute('aria-selected', 'false'));
      btn.setAttribute('aria-selected', 'true');
      Object.values(panels).forEach(p => p.hidden = true);
      panels[btn.dataset.tab].hidden = false;
    }));

    const editBtn = document.getElementById('btn-edit');
    const cancelBtn = document.getElementById('cancel-profile');
    const saveBtn = document.getElementById('save-profile');
    const overviewCard = document.querySelector('#panel-overview .card');
    const inputs = overviewCard.querySelectorAll('input, select, textarea');

    function setEditable(editing) {
      inputs.forEach(i => i.disabled = !editing);
      cancelBtn.hidden = !editing;
      saveBtn.hidden = !editing;
      editBtn.hidden = editing;
      if (editing) inputs[0]?.focus();
    }

    editBtn.addEventListener('click', () => setEditable(true));
    cancelBtn.addEventListener('click', () => setEditable(false));

    saveBtn.addEventListener('click', async () => {
      const payload = {};
      inputs.forEach(i => payload[i.name] = i.value);
      try {
        console.log('PATCH /users/123', payload);
        toast('Profil mis à jour');
        setEditable(false);
      } catch (e) {
        toast('Erreur lors de la sauvegarde');
      }
    });

    const skills = document.getElementById('skills');
    const addSkillBtn = document.getElementById('add-skill');
    const newSkill = document.getElementById('new-skill');

    function addSkill(name){
      const s = name.trim();
      if (!s) return; 
      const el = document.createElement('span');
      el.className = 'chip';
      el.innerHTML = `${s}<button aria-label="supprimer">×</button>`;
      el.querySelector('button').addEventListener('click', () => el.remove());
      skills.appendChild(el);
      newSkill.value='';
    }
    addSkillBtn.addEventListener('click', ()=> addSkill(newSkill.value));
    newSkill.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); addSkill(newSkill.value); }});

    document.getElementById('save-alerts').addEventListener('click', ()=>{
      const enabled = document.getElementById('alerts-enabled').checked;
      const keywords = document.getElementById('alert-keywords').value;
      const freq = document.getElementById('alert-frequency').value;
      const type = document.getElementById('alert-type').value;
      console.log('PATCH /users/123/alerts', {enabled, keywords, freq, type});
      toast('Alertes mises à jour');
    });

    document.getElementById('delete-account').addEventListener('click', ()=>{
      if(confirm('Confirmer la suppression définitive ?')){
        console.log('DELETE /users/123');
        toast('Compte supprimé');
      }
    });

    function toast(msg){
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(()=> t.classList.remove('show'), 1800);
    }
  </script>
</body>
</html>